\subsection{Evaluation des modèles}
\subsubsection{Accuracy micro}
L'accuracy est le pourcentage de réussite d'un modèle. Elle est calculée par la formule suivante :
\begin{equation}
    \text{Accuracy micro} = \frac{\text{Nombre de prédictions correctes}}{\text{Nombre total de prédictions}}
\end{equation}

\subsubsection{Accuracy macro}
L'accuracy macro est la moyenne des accuracy de chaque classe. Elle est calculée par la formule suivante :
\begin{equation}
    \text{Accuracy macro} = \frac{1}{N} \sum_{i=1}^{n} \frac{\text{Nombre de prédiction correctes de la classe } i}{\text{Nombre total de prédictions de la classe } i}{}
\end{equation}

\subsubsection{Précision}
La précision est le pourcentage de prédictions correctes parmi les prédictions positives. Elle est calculée par la formule suivante :
\begin{equation}
    \text{Précision} = \frac{\text{Nombre de vrais positifs}}{\text{Nombre de vrais positifs + Nombre de faux positifs}}
\end{equation}

\subsubsection{Rappel}
Le rappel est le pourcentage de prédictions correctes parmi les vrais labels positifs. Il est calculé par la formule suivante :
\begin{equation}
    \text{Rappel} = \frac{\text{Nombre de vrais positifs}}{\text{Nombre de vrais positifs + Nombre de faux négatifs}} 
\end{equation}

\subsubsection{F1-score}
Le F1-score est la moyenne harmonique de la précision et du rappel. Il est calculé par la formule suivante :
\begin{equation}
    \text{F1-score} = 2 \times \frac{\text{Précision} \times \text{Rappel}}{\text{Précision} + \text{Rappel}}
\end{equation}

\subsubsection{Top 3}
Le Top 3 est le pourcentage de trouver la réponse parmi les 3 classes les plus prédites par le modèle. Il est calculé par la formule suivante :
\begin{equation}
    \text{Top 3} = \frac{\text{Nombre de prédictions correctes parmi les 3 premières prédictions}}{\text{Nombre total d'exemples}}
\end{equation}

\subsection{Evaluation des cartes de saillance}
\label{sec: grad metrics}

Soit $p_i = \text{arg}\max_c p_i^c$ la probabilité de la classe prédicte par le modèle pour l'image $x_i$. Soit $o_i$ la probabilité de cette même classe prédite par le modèle pour l'image maské de ca carte de saillance $x_i * s_i$ (où $s_i$ est la carte de saillance de l'image $x_i$). On définie $N$ le nombre totale d'image dans le test set. On note $[x]_+$ le maximun entre $0$ et la valeur $x$ ($[x]_+=\max(0, x)$). On définie les métriques suivantes :

\subsubsection{Averare Drop (AD)}
\begin{equation}
    \text{AD} = \frac{1}{N} \sum_{i=1}^{N} \frac{[p_i - o_i]_+}{p_i} \cdot 100
\end{equation}

\subsubsection{Average Increase (AI)}
\begin{equation}
    \text{AI} = \frac{1}{N} \sum_{i=1}^{N} 1_{p_i<o_i} \cdot 100
\end{equation}

\subsubsection{Average Gain (AG)}
\begin{equation}
    \text{AG} = \frac{1}{N} \sum_{i=1}^{N} \frac{[o_i - p_i]_+}{1 - p_i} \cdot 100
\end{equation}